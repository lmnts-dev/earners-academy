!function(t){var e,i,n,o,a,s;return o=null,a=function(t){var e,i,n,a,s,l,r,d;return e=document.body,d=document.defaultView||document.window,s=document.documentElement,null==o&&(i=document.createElement("div"),i.style.paddingLeft=i.style.width="1px",e.appendChild(i),o=2===i.offsetWidth,e.removeChild(i)),i=t.getBoundingClientRect(),a=s.clientTop||e.clientTop||0,n=s.clientLeft||e.clientLeft||0,null!=(null!=d?d.pageYOffset:void 0)?(r=d.pageYOffset,l=d.pageXOffset):(r=o&&s.scrollTop||e.scrollTop,l=o&&s.scrollLeft||e.scrollLeft),{top:i.top+r-a,left:i.left+l-n}},e=t.detect.browser.msie?function(t,e,i){return t.attachEvent("on"+e,i)}:function(t,e,i){return t.addEventListener(e,i,!1)},s=function(t){var e;return t&&(e=t.parentNode)?(e.removeChild(t),t=null):void 0},i=function(){var t,e;return t=document.body,e=document.documentElement,Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight)},n=function(){var t,e;return t=document.body,e=document.documentElement,Math.max(t.scrollWidth,t.offsetWidth,e.clientWidth,e.scrollWidth,e.offsetWidth)},t.plugin("dimthelights",function(o,l){var r,d,c,u,m,p,f,h,g,b,y,w,v,x,N,k,C;if(null==l&&(l={}),!/popover=true/.test(o.src)){for(b=function(){var t,e,s,l,r;if(p)return t=a(u),l=t.left,r=t.top,s=o.width(),e=o.height(),h.left.style.width=""+l+"px",h.left.style.height=""+i()+"px",h.left.style.left="0px",h.left.style.top="0px",h.right.style.width=""+(n()-l-s)+"px",h.right.style.height=""+i()+"px",h.right.style.left=""+(l+s)+"px",h.right.style.top="0px",h.top.style.width=""+s+"px",h.top.style.height=""+r+"px",h.top.style.left=""+l+"px",h.top.style.top="0px",h.bottom.style.width=""+s+"px",h.bottom.style.height=""+(i()-r-e)+"px",h.bottom.style.left=""+l+"px",h.bottom.style.top=""+(r+e)+"px"},p=!1,m=function(){var t,e,i,n;p=!0,r(),u.className=u.className.replace(/\s*wistia-dim-target/g,"")+" wistia-dim-target",document.body.className=(document.body.className||"").replace(/\s*wistia-dim-the-lights/g,"")+" wistia-dim-the-lights";for(e in h)n=h[e],document.body.appendChild(n);b();for(e in h)t=h[e],t.className=t.className.replace(/\s*wistia-invisible/g,"")+" wistia-visible";return(i=function(){return b(),p&&Wistia.timeout(""+o.uuid+".dim.reposition",i,300)})()},v=function(){var e,i,n;p=!1,u.className=u.className.replace(/\s*wistia-dim-target/g,""),document.body.className=(document.body.className||"").replace(/\s*wistia-dim-the-lights/g,""),n=[];for(i in h)e=h[i],n.push(function(e){return e.className=e.className.replace(/\s*wistia-visible/g,"")+" wistia-invisible",t.timeout(""+x+".undim."+i,function(){return s(e),y()},500)}(e));return n},w=null,y=function(){return s(w)},r=function(){var e,i,n;return y(),e="opacity",i=.5,n="-webkit-transition: "+e+" "+i+"s ease-in-out;\n-moz-transition: "+e+" "+i+"s ease-in-out;\n-o-transition: "+e+" "+i+"s ease-in-out;\n-ms-transition: "+e+" "+i+"s ease-in-out;\ntransition: "+e+" "+i+"s ease-in-out;",w=t.util.addInlineCss(document.body,".wistia-dim-backdrop {\nbackground-color:"+l.backgroundColor+";\ncursor:pointer;\nfilter:alpha(opacity=0);\nopacity:0;\nz-index:16777271;\nposition: absolute;\n}\n.wistia-dim-backdrop.wistia-visible {\nfilter:alpha(opacity="+Math.round(100*l.backgroundOpacity)+");\nopacity:"+l.backgroundOpacity+";\n"+n+"\n}\n.wistia-dim-backdrop.wistia-invisible {\nfilter:alpha(opacity=0);\nopacity:0;\n"+n+"\n}\n.wistia-dim-target {\nbox-shadow:0 0 50px 5px rgba(0,0,0,.95);\n}\n.wistia-dim-the-lights textarea {\nresize:none!important;\n}")},d=function(){return l.autoDim=!1,o.unbind("play",m)},c=function(){return d(),l.autoDim=!0,o.bind("play",m)},x=t.seqId(),l=t.extend({backgroundColor:"#000000",backgroundOpacity:.6,autoDim:!0},l),l.autoDim=t.obj.cast(l.autoDim),u=o.iframe?o.iframe:o.container,h={},C=["left","right","top","bottom"],N=0,k=C.length;k>N;N++)g=C[N],h[g]=document.createElement("div"),h[g].id=""+x+"_"+g,h[g].className="wistia-dim-backdrop";for(g in h)f=h[g],e(f,"click",v);return l.autoDim&&c(),o.bind("widthchanged",b),o.bind("heightchanged",b),e(window,"resize",b),e(window,"scroll",b),o.bind("down",v),{dim:m,undim:v,elems:h,reposition:b,autoDimOff:d,autoDimOn:c}}})}(Wistia);